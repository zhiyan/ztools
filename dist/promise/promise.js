(function(a,b,c){b[a]||(b[a]=c),"undefined"!=typeof module&&module.exports?module.exports=b[a]:"function"==typeof define&&define.amd&&define(function(){return b[a]})}).call("Promise","undefined"!=typeof global?global:this,function(){"use strict";function a(a,b){e(function(){a.length&&a.pop().call(void 0,b)})}function b(b){a(this.queueSucc,b)}function c(b){a(this.queueFial,b)}function d(a){var d=this;if("function"!=typeof a)throw TypeError("Not a function.");this.then=function(a,b){if("function"!=typeof a||"function"!=typeof b)throw TypeError("Not a function.");this.queueSucc.push(a),this.queueFail.push(b)},this.queueSucc=[],this.queueFail=[];try{a.call(void 0,function(a){b.call(d,a)},function(a){b.call(d,a)})}catch(e){c.call(this,e)}return this}var e="function"==typeof setImmediate?setImmediate:setTimeout;d.reject=function(a){var b=this;return new b(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function.");c(a)})},d.resolve=function(a){var b=this;return new b(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function.");b(a)})}});